<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TeleTon Mini App</title>
    <link rel="stylesheet" href="style.css">

    <!-- Telegram WebApp SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>

    <div class="container">

        <!-- –õ–û–ì–û -->
        <div class="logo-block">
            <img src="logo.png" alt="TeleTon Logo" class="logo">
        </div>

        <!-- –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –æ—Ç mini app -->
        <p class="description" id="greeting">–ó–∞–≥—Ä—É–∑–∫–∞ TeleTon‚Ä¶</p>

        <!-- –ö–ù–û–ü–ö–ò -->
        <div class="buttons">
            <button class="btn primary" id="btn-connect-wallet">–ü–æ–¥–∫–ª—é—á–∏—Ç—å TON-–∫–æ—à–µ–ª—ë–∫</button>
            <button class="btn secondary" id="btn-create-token">–°–æ–∑–¥–∞—Ç—å —Ç–æ–∫–µ–Ω</button>
            <button class="btn secondary" id="btn-my-tokens">–ú–æ–∏ —Ç–æ–∫–µ–Ω—ã / –ø—Ä–æ–µ–∫—Ç—ã</button>
        </div>

    </div>

    <script>
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ WebApp (–µ—Å–ª–∏ –æ—Ç–∫—Ä—ã–ª–∏ –ø—Ä–æ—Å—Ç–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ - –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –Ω–µ–≥–æ)
        const tg = window.Telegram && window.Telegram.WebApp ? window.Telegram.WebApp : null;

        function initTeleTon() {
            const greetingEl = document.getElementById('greeting');

            if (tg) {
                // –°–æ–æ–±—â–∞–µ–º Telegram, —á—Ç–æ –≤—Å—ë –æ–∫
                tg.ready();
                tg.expand(); // —Ä–∞—Å–∫—Ä—ã—Ç—å –Ω–∞ –≤—Å—é –≤—ã—Å–æ—Ç—É

                // –î–æ—Å—Ç–∞—ë–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –µ—Å–ª–∏ –µ—Å—Ç—å
                const user = tg.initDataUnsafe?.user;

                if (user) {
                    const name = user.first_name || "–¥—Ä—É–≥";
                    greetingEl.textContent = `–ü—Ä–∏–≤–µ—Ç, ${name}! –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ TeleTon Token Factory üëã`;
                } else {
                    greetingEl.textContent = "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ TeleTon Token Factory üëã";
                }

                // –ú–æ–∂–Ω–æ –ø–æ–¥—Å—Ç—Ä–æ–∏—Ç—å—Å—è –ø–æ–¥ —Ç–µ–º—É Telegram
                const theme = tg.colorScheme; // "dark" –∏–ª–∏ "light"
                document.body.dataset.theme = theme;
            } else {
                // –ï—Å–ª–∏ –æ—Ç–∫—Ä—ã–ª–∏ –Ω–µ –∏–∑ Telegram
                greetingEl.textContent = "TeleTon Mini App (—Ä–µ–∂–∏–º –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤–Ω–µ Telegram)";
            }

            // –ù–∞–≤–µ—à–∏–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞ –∫–Ω–æ–ø–∫–∏
            document.getElementById('btn-connect-wallet').addEventListener('click', () => {
                // –ó–¥–µ—Å—å –ø–æ–∑–∂–µ –±—É–¥–µ—Ç TON Connect
                if (tg) {
                    tg.showAlert("–ó–¥–µ—Å—å —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ TON-–∫–æ—à–µ–ª—å–∫–∞ —á–µ—Ä–µ–∑ TON Connect üíé");
                } else {
                    alert("–ó–¥–µ—Å—å —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ TON-–∫–æ—à–µ–ª—å–∫–∞ —á–µ—Ä–µ–∑ TON Connect üíé");
                }
            });

            document.getElementById('btn-create-token').addEventListener('click', () => {
                if (tg) {
                    tg.showAlert("–≠–∫—Ä–∞–Ω —Å–æ–∑–¥–∞–Ω–∏—è —Ç–æ–∫–µ–Ω–∞ –º—ã –¥–æ–±–∞–≤–∏–º —Å–ª–µ–¥—É—é—â–∏–º —à–∞–≥–æ–º üòâ");
                } else {
                    alert("–≠–∫—Ä–∞–Ω —Å–æ–∑–¥–∞–Ω–∏—è —Ç–æ–∫–µ–Ω–∞ –º—ã –¥–æ–±–∞–≤–∏–º —Å–ª–µ–¥—É—é—â–∏–º —à–∞–≥–æ–º üòâ");
                }
            });

            document.getElementById('btn-my-tokens').addEventListener('click', () => {
                if (tg) {
                    tg.showAlert("–ó–¥–µ—Å—å –±—É–¥–µ—Ç —Å–ø–∏—Å–æ–∫ —Ç–≤–æ–∏—Ö —Ç–æ–∫–µ–Ω–æ–≤ –∏ –ø—Ä–æ–µ–∫—Ç–æ–≤ üìä");
                } else {
                    alert("–ó–¥–µ—Å—å –±—É–¥–µ—Ç —Å–ø–∏—Å–æ–∫ —Ç–≤–æ–∏—Ö —Ç–æ–∫–µ–Ω–æ–≤ –∏ –ø—Ä–æ–µ–∫—Ç–æ–≤ üìä");
                }
            });
        }

        document.addEventListener('DOMContentLoaded', initTeleTon);
    </script>

</body>
</html>

